# 安装依赖（首次执行）
python -m pip install -r requirements.txt
python -m playwright install chromium

# 推荐：单命令执行全链路（抓取→预测→历史回测→镜像）
python -m hkd_fx.cli run-all

# 可选：覆盖参数
python -m hkd_fx.cli run-all --currency 港币 --rate-col 汇卖价 --pages 5 --lookback 30 --horizon 30

# 仅抓取增量
python -m hkd_fx.cli ingest --currency 港币 --pages 5

# 仅预测
python -m hkd_fx.cli forecast --rate-col 汇卖价 --lookback 30 --horizon 30

# 回测全部历史预测批次
python -m hkd_fx.cli backtest

# 兼容旧入口（仍可用，内部转发）
python scrape_cmb_rates_playwright.py --nbr 港币 --max_pages 5
python 分析/fit_forecast_lstm.py --rate_col "汇卖价" --lookback 30
python 分析/compare_forecast_actual.py

# 迁移历史数据到新主仓（首次重构后可执行一次）
python scripts/migrate_legacy_data.py

# 重建全部回测
python scripts/rebuild_backtests.py

